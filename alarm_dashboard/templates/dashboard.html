<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Einsatz Dashboard</title>
    <link rel="stylesheet" href="/static/css/dashboard.css">
    <link
        rel="stylesheet"
        href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        crossorigin=""
    >
</head>
<body class="mode-idle">
    <div id="app" class="app-shell">
        <div class="app-topline" aria-hidden="true"></div>
        <header class="app-header">
            <div class="header-brand">
                <h1>
                    Feuerwehr <span>{{ department_name }}</span>
                </h1>
            </div>
            <div class="header-meta">
                <img src="{{ crest_url }}" alt="Gemeindewappen" class="crest">
            </div>
        </header>
        <main class="app-main">
            <section class="panel view alarm-view hidden" id="alarm-view">
                <div class="alarm-header">
                    <div class="alarm-header-text">
                        <h2 id="keyword">-</h2>
                        <div class="alarm-header-meta">
                            <p class="alarm-subtitle" id="keyword-secondary"></p>
                            <p class="alarm-remark" id="remark"></p>
                        </div>
                    </div>
                    <time class="alarm-time" id="alarm-time">-</time>
                </div>
                <div class="alarm-layout" id="alarm-layout">
                    <div class="alarm-column alarm-column--info">
                        <div class="meta-grid">
                            <div class="meta-card meta-card--location">
                                <h3>Einsatzort</h3>
                                <dl class="location-details">
                                    <div>
                                        <dt>Ort</dt>
                                        <dd id="location-town">-</dd>
                                    </div>
                                    <div>
                                        <dt>Ortsteil</dt>
                                        <dd id="location-village">-</dd>
                                    </div>
                                    <div>
                                        <dt>Straße</dt>
                                        <dd id="location-street">-</dd>
                                    </div>
                                    <div>
                                        <dt>Zusatz</dt>
                                        <dd id="location-additional">-</dd>
                                    </div>
                                </dl>
                            </div>
                            <div class="meta-card meta-card--vehicles">
                                <h3>Alarmierte Fahrzeuge</h3>
                                <ul id="groups" class="meta-list">
                                    <li>-</li>
                                </ul>
                            </div>
                            <div class="meta-card meta-card--weather" id="weather">
                                <h3>Wetter am Einsatzort</h3>
                                <p>Keine Daten verfügbar</p>
                            </div>
                        </div>
                    </div>
                    <div class="alarm-column alarm-column--map hidden" id="map-column">
                        <div class="meta-card meta-card--map hidden" id="map-panel">
                            <h3>Einsatzkarte</h3>
                            <div class="map-frame">
                                <div
                                    id="map-canvas"
                                    class="map-canvas map-canvas--message"
                                    role="region"
                                    aria-live="polite"
                                >
                                    Kartendaten werden geladen ...
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <section class="panel view idle-view" id="idle-view">
                <div class="idle-header">
                    <div class="idle-badge">
                        <img src="{{ crest_url }}" alt="Gemeindewappen" class="crest">
                    </div>
                    <div class="idle-timebox">
                        <div class="idle-time" id="idle-time">--:--</div>
                        <div class="idle-date" id="idle-date">Warte auf Zeitdaten...</div>
                    </div>
                </div>
                <div class="idle-content">
                    <div class="idle-weather" id="idle-weather">
                        <h3>Aktuelles Wetter</h3>
                        <p>Keine Daten verfügbar</p>
                    </div>
                    <div class="idle-last-alarm" id="idle-last-alarm">
                        <h3>Letzter Einsatz</h3>
                        <p>Keine Einsätze vorhanden</p>
                    </div>
                </div>
            </section>
        </main>
        <nav class="bottom-nav" aria-label="Hauptnavigation">
            <a href="/" class="bottom-nav__item bottom-nav__item--active">
                <span class="bottom-nav__icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" role="presentation">
                        <path d="M4 10.5 12 4l8 6.5V20a1 1 0 0 1-1 1h-5v-5h-4v5H5a1 1 0 0 1-1-1z" />
                    </svg>
                </span>
                <span class="bottom-nav__label">Home</span>
            </a>
            <a
                href="/navigation"
                class="bottom-nav__item hidden"
                id="nav-navigation"
                aria-label="Navigation zum Einsatzort"
            >
                <span class="bottom-nav__icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" role="presentation">
                        <path
                            d="M12 2a5 5 0 0 0-5 5c0 3.53 5 11 5 11s5-7.47 5-11a5 5 0 0 0-5-5zm0 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM4 20h16v2H4z"
                        />
                    </svg>
                </span>
                <span class="bottom-nav__label">Navigation</span>
            </a>
            <a href="/history" class="bottom-nav__item">
                <span class="bottom-nav__icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" role="presentation">
                        <path d="M19 4h-1V2h-2v2H8V2H6v2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 16H5V9h14zm-9-7h2v2h-2zm4 0h2v2h-2zm-8 0h2v2H6z" />
                    </svg>
                </span>
                <span class="bottom-nav__label">Historie</span>
            </a>
        </nav>
    </div>
    <script
        src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        crossorigin=""
        defer
    ></script>
    <script src="/static/js/dashboard.js" defer></script>
</body>
</html>
